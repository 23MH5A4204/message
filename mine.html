<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Private Message</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        /* Custom Tailwind Configuration for soft, sincere colors */
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'background-soft': '#f5f0eb', /* Very light cream/peach */
                        'primary-text': '#2c3e50',    /* Deep blue-gray */
                        'accent-rose': '#a855f7',     /* Soft lavender/rose for highlights */
                        'button-dark': '#4f46e5',     /* Indigo */
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </style>
</head>
<body class="bg-background-soft min-h-screen flex items-center justify-center p-4 font-sans text-primary-text">

    <!-- Main Application Wrapper -->
    <div class="w-full max-w-md">

        <!-- 1. LOGIN SCREEN -->
        <div id="login-screen" class="bg-white p-8 md:p-10 rounded-2xl shadow-xl transition-all duration-500">
            <header class="text-center mb-8">
                <h1 class="text-3xl font-display font-bold text-primary-text mb-2">
                    Private Message Entrance
                </h1>
                <p class="text-sm text-primary-text/70">Please enter your name to proceed.</p>
            </header>

            <div class="space-y-6">
                <input 
                    type="text" 
                    id="user-name-input" 
                    placeholder="Your Name" 
                    class="w-full p-4 border-2 border-background-soft rounded-xl focus:outline-none focus:ring-4 focus:ring-accent-rose/50 transition duration-300"
                    maxlength="30"
                >
                <button 
                    id="proceed-btn" 
                    class="w-full py-3 bg-button-dark text-white font-semibold text-lg rounded-xl shadow-lg hover:bg-button-dark/90 transition transform hover:scale-[1.01] active:scale-[0.99] focus:outline-none focus:ring-4 focus:ring-button-dark/50"
                >
                    Unlock Message
                </button>
                <p id="error-message" class="text-red-500 text-sm text-center hidden">Please enter a valid name.</p>
            </div>
        </div>

        <!-- 2. APOLOGY SCREEN (Initially Hidden) -->
        <div id="apology-screen" class="hidden bg-white p-8 md:p-10 rounded-2xl shadow-xl transition-all duration-500">
            <header class="text-center mb-8">
                <h1 class="text-5xl font-display font-bold text-accent-rose mb-2 animate-pulse">
                    Sorry, Kanna
                </h1>
                <p id="sender-greeting" class="text-lg text-primary-text/80 italic"></p>
            </header>

            <div class="space-y-8 text-center">
                
                <!-- Apology Text Container -->
                <div class="p-6 border-l-4 border-accent-rose bg-background-soft rounded-lg shadow-inner">
                    <p class="text-xl text-primary-text leading-relaxed">
                        I know my words and actions hurt you, and for that, <strong>I am truly sorry.</strong> 
                        You mean the world to me, and all I want is for us to talk and find a way forward.
                    </p>
                </div>

                <!-- Contact/Action Link -->
                <footer class="pt-4">
                    <a id="contact-link"
                       href="#" 
                       target="_blank"
                       class="inline-block px-8 py-3 bg-accent-rose text-white font-semibold text-lg tracking-wide rounded-full shadow-lg hover:bg-accent-rose/80 transition transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-accent-rose/50"
                       aria-label="Click to open WhatsApp chat">
                        Talk To Me on WhatsApp
                    </a>
                    <p class="text-sm text-primary-text/60 mt-4">
                        (Opens WhatsApp chat.)
                    </p>
                </footer>

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loginScreen = document.getElementById('login-screen');
            const apologyScreen = document.getElementById('apology-screen');
            const nameInput = document.getElementById('user-name-input');
            const proceedBtn = document.getElementById('proceed-btn');
            const errorMsg = document.getElementById('error-message');
            const senderGreeting = document.getElementById('sender-greeting');
            const contactLink = document.getElementById('contact-link');

            // --- State Management ---
            let senderName = '';

            // --- WhatsApp Number (change this to your real number) ---
            const whatsappNumber = "919876543210"; // Example: +91 9876543210 → 919876543210

            // Function to handle the transition and personalization
            const handleLogin = () => {
                const name = nameInput.value.trim();

                if (name.length < 2) {
                    errorMsg.classList.remove('hidden');
                    return;
                }

                errorMsg.classList.add('hidden');
                senderName = name;

                // ✅ Generate shareable link for others to open directly
                const shareURL = `${window.location.origin}${window.location.pathname}?sender=${encodeURIComponent(senderName)}`;
                senderGreeting.innerHTML = `— A message from ${senderName}<br>
                    <a href="${shareURL}" class="text-accent-rose underline text-sm" target="_blank">
                        Open this message on another device
                    </a>`;

                // ✅ Create WhatsApp link
                const message = `Hello, I saw your message on the web page. Let's talk.\n\n- ${senderName}`;
                contactLink.href = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;

                // Transition the view
                loginScreen.classList.add('hidden');
                apologyScreen.classList.remove('hidden');
                window.scrollTo(0, 0); 
            };

            // Auto-fill sender name if shared link used
            const params = new URLSearchParams(window.location.search);
            const sharedSender = params.get('sender');
            if (sharedSender) {
                loginScreen.classList.add('hidden');
                apologyScreen.classList.remove('hidden');
                senderGreeting.innerText = `— A message from ${decodeURIComponent(sharedSender)}`;
            }

            // Event Listeners
            proceedBtn.addEventListener('click', handleLogin);
            nameInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleLogin();
            });
        });
    </script>
</body>
</html>









